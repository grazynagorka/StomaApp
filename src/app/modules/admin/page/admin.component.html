<!--Strona ładuje się tylko i wyłącznie jeśli loguje się admin (tak, wiem, logiczne :p)-->
<div class="container">
    <hr>
    <div class="row">
        <div class="col-md-12">
            <div class="col-md-6">
                <h1>Witaj {{currentUser?.firstName}}!</h1>
            </div>
            <hr>
            <div class="col-md-12">
                <p>Doktor</p>
                <a mat-raised-button (click)="addDoctor()">Dodaj</a>
                <a class="edit" mat-raised-button (click)="openDoctorsList()">Lista lekarzy</a>
                <div *ngIf="showDoctorsList">
                    <div class="row" *ngFor="let doctor of doctors?.users">
                        <div class="col-md-12">
                            <hr>
                            <div class="row">
                                <div class="col-md-8">
                                    <p class="name">{{doctor.firstName}} {{doctor.lastName}}</p>
                                </div>
                                <div class="col-md-4">
                                    <a mat-raised-button [routerLink]="['/edit', doctor._id]">Edytuj</a>
                                    <a mat-button color="warn" (click)="deleteDoctor(doctor._id)">Usuń</a>
                                    <!-- <a mat-raised-button (click)="makeAdmin(doctor._id)">Nadaj uprawnienia administratora</a> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="col-md-12">
                <p>Asystent</p>
                <a mat-raised-button (click)="addAssistant()">Dodaj</a>
                <a class="edit" mat-raised-button (click)="editAssistantsList()">Lista asystentów</a>
                <div class="col-md-12" *ngIf="showAssistantsList">
                    <div class="row" *ngFor="let assistant of assistants?.users">
                        <div class="col-md-12">
                            <hr>
                            <div class="row">
                                <div class="col-md-8">
                                    <p class="name">{{assistant.firstName}} {{assistant.lastName}}</p>
                                </div>
                                <div class="col-md-4">
                                    <a mat-raised-button [routerLink]="['/edit', assistant._id]">Edytuj</a>
                                    <a mat-button color="warn" (click)="deleteAssistant(assistant._id)">Usuń</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="col-md-12">
                <p>Pacjent</p>
                <a class="editpatient" mat-raised-button (click)="editPatientList()">Lista pacjentów</a>
                <div class="col-md-12" *ngIf="showPatientsList">
                    <div class="row" *ngFor="let user of user?.users">
                        <div class="col-md-12">
                            <hr>
                            <div class="row">
                                <div class="col-md-8">
                                    <p class="name">{{user.firstName}} {{user.lastName}}</p>
                                </div>
                                <div class="col-md-4">
                                    <a mat-raised-button [routerLink]="['/edit', user._id]">Edytuj</a>
                                    <a mat-button color="warn" (click)="deletePatient(user._id)">Usuń</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="col-md-12">
                <p>Administrator</p>
                <a class="adminList" mat-raised-button (click)="getAllAdminsList()">Lista administratorów:</a>
                <div class="col-md-12" *ngIf="showAdminsList">
                    <div class="row" *ngFor="let admin of admins?.users">
                        <div class="col-md-12">
                            <hr>
                            <div class="row">
                                <div class="col-md-8">
                                    <p class="name">{{admin.firstName}} {{admin.lastName}}</p>
                                </div>
                                <div class="col-md-4">
                                    <a mat-raised-button [routerLink]="['/edit', admin._id]">Edytuj</a>
                                    <a mat-button color="warn" (click)="deletePatient(admin._id)">Usuń</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
        </div>
    </div>
</div>